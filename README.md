# Lotto Recommender

한국 로또 6/45의 역대 당첨번호 CSV 데이터를 분석하고, 통계 패턴을 바탕으로 "당첨 가능성 높은" 번호 조합을 추천하는 Python 스크립트입니다. 이 도구는 과거 데이터를 활용해 번호 빈도, 최근 추세, 홀/짝 분포, 합계 범위, 연속 패턴 등을 다각도로 분석합니다. **주의: 로또는 본질적으로 랜덤한 게임으로, 이 추천은 통계적 추세일 뿐 미래 당첨을 보장하지 않습니다.** 재미나 연구 목적으로 사용하세요.

## 기능 개요
- **데이터 로드 및 검증**: CSV 파일을 읽어들여 번호 데이터(1~45 범위)를 확인합니다. 오류 시 예외 처리.
- **분석 항목**:
  - **전체 빈도 분석**: 모든 회차에서 각 번호의 출현 횟수 계산 (e.g., Counter 사용).
  - **최근 추세 분석**: 최근 50회차 빈도 계산 (hot numbers 식별).
  - **통계 계산**: 홀/짝 비율 (홀수 약 52%), 번호 합계 평균(약 132.5) 및 25%~75% 범위(111~155), 연속 번호 쌍 평균(0.68개).
  - **과거 조합 저장**: 중복 추천 피하기 위해 frozenset으로 저장.
- **추천 로직**:
  - 후보 풀: 전체 빈도 상위 15개 + 최근 상위 10개 (중복 제거).
  - 조합 생성: itertools.combinations로 6개 번호 조합 생성.
  - 필터링: 합계 111 ~ 155, 홀수 3 ~ 4개, 연속 쌍 ≤1개, 과거 미출현.
  - 점수화: 전체 빈도 + 최근 빈도(가중 0.5)로 상위 5개 추천.
  - 부족 시 조건 완화 (합계 범위 확대).
- **출력**: 분석 결과 요약과 추천 조합 표시.

이 스크립트는 이전 대화에서 유도된 통찰(다각도 분석)을 바탕으로 정교하게 구현되었습니다. 예를 들어, pandas로 데이터 처리, numpy로 통계 계산, sys.argv로 파일 입력을 처리하여 실사용성을 높였습니다.

## 요구사항
- **Python 버전**: 3.8 이상.
- **필요 라이브러리**:
  - pandas: 데이터 로드 및 처리.
  - numpy: 통계 계산 (e.g., percentile).
  - collections: Counter로 빈도 분석.
  - itertools: combinations로 조합 생성.
  - sys: 명령줄 인수 처리.

라이브러리 설치 (터미널에서 실행):
```
pip install pandas numpy
```
(기본 라이브러리 collections, itertools, sys는 별도 설치 불필요.)

## 사용법
1. **CSV 파일 준비**: 로또 데이터 CSV 파일(예: "로또회차별당첨번호-20250816.csv")을 다운로드하거나 생성하세요. 컬럼: 회차, 추첨일, 첫번째~여섯번째 (본번호), 보너스 등.
2. **스크립트 실행**: 명령줄에서 파일 경로를 인수로 전달.
   ```
   python lotto_recommender.py <csv_file_path>
   ```
   예시:
   ```
   python lotto_recommender.py lotto_data.csv
   ```
3. **출력 예시**:
   ```
   === 로또 데이터 분석 결과 ===
   총 회차 수: 1185
   전체 번호 빈도 상위 10: [(1, 224), (3, 213), ...]
   최근 50회 빈도 상위 10: [(7, 10), (27, 10), ...]
   홀수 비율: 52.00%
   합계 평균: 132.5, 25% ~ 75% 범위: 111.0 ~ 155.0
   평균 연속 쌍 수: 0.68

   === 추천 번호 조합 (당첨 가능성 높은 5개) ===
   1. (1, 3, 6, 12, 13, 45)
   2. (1, 2, 3, 6, 13, 45)
   ...
   ```

## 코드 구조 설명
- **load_lotto_data()**: CSV 로드, 컬럼 검증, 번호 범위 확인. try-except로 오류 처리.
- **analyze_frequencies()**: 전체/최근 빈도 Counter 생성.
- **analyze_statistics()**: 홀/짝 비율, 합계 통계(numpy 사용), 연속 쌍 평균 계산.
- **get_past_combinations()**: 과거 조합 set 저장 (frozenset으로 중복 방지).
- **generate_recommendations()**: 후보 풀 생성, 조합 필터링/점수화, 상위 5개 추천. 조건 부족 시 범위 완화 로직 포함.
- **main()**: 전체 실행 흐름, 분석 결과 출력.

코드의 정교함: 
- 오류 방지: 데이터 검증, 예외 처리.
- 효율성: itertools로 조합 생성 (대규모 데이터에도 적합).
- 확장성: 최근 회차 수(50)나 필터 조건을 변수화하여 수정 가능.

## 주의사항
- **데이터 소스**: CSV는 사용자가 제공해야 합니다. 실제 로또 데이터는 공식 사이트(동행복권 등)에서 다운로드하세요. (현재 날짜 2025년 8월 기준, 데이터 업데이트 필요.)
- **법적/윤리적**: 이 도구는 교육/분석 목적. 실제 로또 구매는 책임져야 하며, 과도한 도박 피하세요.
- **한계**: 로또 추첨은 독립적 랜덤 이벤트. 통계 패턴은 과거 추세일 뿐, 미래 예측 정확도 보장 없음. (검증: 로또 확률 1/8,145,060.)

## 기여
버그 발견이나 기능 제안 시, Issue를 열어주세요. Pull Request 환영합니다!

## 라이선스
MIT License. 자유롭게 사용/수정하세요.
